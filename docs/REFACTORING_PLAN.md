# План рефакторинга

1.  **Выделение интерфейсов (Inversion of Control)**: Создать интерфейсы для репозитория, сервиса уведомлений и логгера в слое `domain`.
2.  **Внедрение зависимостей (Dependency Injection)**: Передать реализации интерфейсов в конструктор `RequestService` вместо создания их внутри метода.
3.  **Разделение на слои (Hexagonal Architecture)**:
    *   `domain`: Модели и интерфейсы портов.
    *   `application`: Бизнес-логика (Use Cases).
    *   `infrastructure`: Реализации портов (адаптеры) и API.
4.  **Внедрение OpenAPI**: Описать контракт API в YAML и настроить генерацию кода для обеспечения строгого соответствия спецификации.
5.  **Создание модульных тестов**: Написать тесты для `RequestService`, используя моки для интерфейсов.
6.  **Реализация адаптеров**: Создать конкретные реализации для БД и внешних API в слое `infrastructure`.
7.  **Конфигурация приложения**: Настроить Spring Boot для сборки всех компонентов воедино.
